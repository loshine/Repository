# ClipDrawable

可以理解为从位图上剪下一个部分

## 实现方式

* 首先定义 xml 资源

```markup
<?xml version="1.0" encoding="utf-8"?>
<clip xmlns:android="http://schemas.android.com/apk/res/android"
    android:clipOrientation="horizontal"
    android:drawable="@mipmap/ic_bg_meizi"
    android:gravity="left" />
```

* 在 ImageView 的`src`属性上使用（`background`会报错）

```markup
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical">

    <ImageView
        android:id="@+id/img_show"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:src="@drawable/clip_bg" />

</LinearLayout>
```

* 通过`setLevel`设置截取区域大小

```java
img_show = (ImageView) findViewById(R.id.img_show);
// 核心实现代码
cd = (ClipDrawable) img_show.getDrawable();
final Timer timer = new Timer();
timer.schedule(new TimerTask() {
    @Override
    public void run() {
        handler.sendEmptyMessage(0x123);
        if (cd.getLevel() >= 10000) {
            timer.cancel();
        }
    }
}, 0, 300);
```