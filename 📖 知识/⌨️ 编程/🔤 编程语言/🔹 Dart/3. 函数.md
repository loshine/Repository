# 函数

在 Dart 中函数也是一种类型，可以被传递或分配变量。

## 声明函数

```dart
bool isNoble(int atomicNumber) {
  return _nobleGases[atomicNumber] != null;
}
```

一行可以解决的函数也可以使用简写

```dart
bool isNoble(int atomicNumber) => _nobleGases[atomicNumber] != null;
```

### 可选参数

可选参数不能同时是命名参数和位置参数，只能二选一。

#### 可选命名参数

声明函数时，把命名参数用大括号包裹即可。

```dart
void enableFlags({bool bold, bool hidden}) {...}
```

使用`@required`标注时，会是一个必须参数。

```dart
const Scrollbar({Key key, @required Widget child})
```

#### 可选位置参数

声明函数时，把参数用中括号包裹即可。

```dart
String say(String from, String msg, [String device]) {
  var result = '$from says $msg';
  if (device != null) {
    result = '$result with a $device';
  }
  return result;
}
```

之后调用函数就可以选择是否传入第三个参数

```dart
assert(say('Bob', 'Howdy') == 'Bob says Howdy');
assert(say('Bob', 'Howdy', 'smoke signal') ==
    'Bob says Howdy with a smoke signal');
```

### 默认值

声明函数时也可以给可选位置参数和可选命名参数配置默认值，默认值只能是编译时常量，不声明默认值时其默认值为`null`。

```dart
/// Sets the [bold] and [hidden] flags ...
void enableFlags({bool bold = false, bool hidden = false}) {...}

// bold will be true; hidden will be false.
enableFlags(bold: true);
```

## 闭包

闭包是可以访问内部作用范围内的值的被外部逻辑调用的函数。

```dart
/// Returns a function that adds [addBy] to the
/// function's argument.
Function makeAdder(num addBy) {
  return (num i) => addBy + i;
}

void main() {
  // Create a function that adds 2.
  var add2 = makeAdder(2);

  // Create a function that adds 4.
  var add4 = makeAdder(4);

  assert(add2(3) == 5);
  assert(add4(3) == 7);
}
```