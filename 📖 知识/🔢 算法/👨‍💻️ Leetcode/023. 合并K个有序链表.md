# 合并K个有序链表

## 题目

合并 k 个排序链表，返回合并后的排序链表。请分析和描述算法的复杂度。

## 解题

### 1. 暴力法

遍历全部链表放入 list，排序后再重新链接。

```kotlin
class Solution {
    fun mergeKLists(lists: Array<ListNode?>): ListNode? {
        val nodes = mutableListOf<ListNode>()
        var point: ListNode? = ListNode(0)
        for (l in lists) {
            point?.next = l
            while (point?.next != null) {
                nodes.add(point.next!!)
                point = point.next
            }
        }
        nodes.sortBy { it.`val` }
        for (i in 0 until nodes.size) {
            if (i < nodes.lastIndex)
                nodes[i].next = nodes[i + 1]
        }
        return if (nodes.isNotEmpty()) nodes[0] else null
    }
}
```

### 2. 队列

使用优先级队列

```kotlin
class Solution {
    fun mergeKLists(lists: Array<ListNode>?): ListNode? {
        if (lists == null || lists.isEmpty()) return null

        val queue = PriorityQueue<ListNode>(lists.size, Comparator<ListNode> { o1, o2 -> o1.`val` - o2.`val` })

        val dummy = ListNode(0)
        var tail: ListNode? = dummy

        for (node in lists)
            if (node != null)
                queue.add(node)

        while (!queue.isEmpty()) {
            tail!!.next = queue.poll()
            tail = tail.next

            if (tail!!.next != null)
                queue.add(tail.next)
        }
        return dummy.next
    }
}
```

### 3. 转化为合并 2 个链表的问题

略