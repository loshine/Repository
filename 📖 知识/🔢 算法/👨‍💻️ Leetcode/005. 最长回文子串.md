# 最长回文子串

## 题目

给定一个字符串 **s**，找到 **s** 中最长的回文子串。你可以假设 **s** 的最大长度为1000。

**示例 1**：
> **输入**: "babad"
> **输出**: "bab"
> **注意**: "aba"也是一个有效答案。

**示例 2**：
> **输入**: "cbbd"
> **输出**: "bb"

## 解题

### 1. 遍历穷举

直接穷举所有的子字符串进行遍历。

```kotlin
class Solution {
    fun longestPalindrome(s: String): String {
        var maxString = ""
        for (i in 0..s.lastIndex) {
            for (j in i..s.lastIndex) {
                val substring = s.substring(i, j + 1)
                if (isPalindrome(substring)) {
                    if (substring.length > maxString.length) {
                        maxString = substring
                    }
                }
            }
        }
        return maxString
    }

    fun isPalindrome(s: String): Boolean {
        val len = s.length
        if (len <= 1) return true
        for (i in 0 until len / 2) {
            if (s[i] != s[s.lastIndex - i]) return false
        }
        return true
    }
}
```

### 2. 中心扩散

如果`"aba"`是回文，那么如果在它的两边各加上一个`"p"`，得到的字符串`"pabap"`也是回文字符串。

```kotlin
class Solution {
    fun longestPalindrome(s: String?): String {
        if (s == null || s.isEmpty()) return ""
        var start = 0
        var end = 0
        for (i in 0..s.lastIndex) {
            val len1 = expandAroundCenter(s, i, i)
            val len2 = expandAroundCenter(s, i, i + 1)
            val len = Math.max(len1, len2)
            if (len > end - start) {
                start = i - (len - 1) / 2
                end = i + len / 2
            }
        }
        return s.substring(start, end + 1)
    }

    private fun expandAroundCenter(s: String, leftIndex: Int, rightIndex: Int): Int {
        var left = leftIndex
        var right = rightIndex
        while (left >= 0 && right < s.length && s[left] == s[right]) {
            left--
            right++
        }
        return right - left - 1
    }
}
```